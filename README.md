# ì´ìš©ë¯¼ - Week4 - ê³¼ì œ

í”„ë¦¬ì˜¨ë³´ë”© 4ì£¼ì°¨ì— ì§„í–‰í•œ ê³¼ì œë¬¼ì…ë‹ˆë‹¤.  
ê¸°ê°„ : 2023.09.09. ~ 2023.09.13.  

## ğŸ‘¥ íŒ€ì›

<table border>
  <tbody>
    <tr>
      <td align="center" width="100px">
        <img width="100%" src="https://avatars.githubusercontent.com/u/68311202?s=96&v=4" alt="ì´ìš©ë¯¼"/>
        <a href="https://github.com/slowteady">
          <img src="https://img.shields.io/badge/ì´ìš©ë¯¼-1E90FF?style=flat-round&logo=GitHub&logoColor=white"/>
        </a>
      </td>
     </tr>
  </tbody>
</table>

## ì‹¤í–‰ ë°©ë²•

1. ë¡œì»¬ í™˜ê²½ì— í”„ë¡œì íŠ¸ ë³µì‚¬ë³¸ ìƒì„±

```bash
git clone https://github.com/slowteady/wanted-pre-onboarding-4th-task.git
```

2. í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™

```bash
cd wanted-pre-onboarding-4th-task
```

3. í™˜ê²½ ì„¤ì •

```bash
echo "REACT_APP_BASE_URL = http://localhost:3000" > .env
```

4. í”„ë¡œì íŠ¸ ì¢…ì†ì„± ì„¤ì¹˜

```bash
npm install
```

5. í”„ë¡œì íŠ¸ ì‹¤í–‰

```bash
npm start
```

## ì‹œì—° ì˜ìƒ

![gif](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExYjB2NXFyeWF4dTNhejY3dzUwMGFjdjUwbXAyZWFqYjhuZGoyM3p4MyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VNs6EEKiPl2FbfLJoj/giphy.gif)

## ê¸°ìˆ  ìŠ¤íƒ

![React](https://img.shields.io/badge/ReactJS-61DAFB?style=for-the-badge&logo=React&logoColor=white)
![Typescript](https://img.shields.io/badge/Typescript-3178C6?style=for-the-badge&logo=Typescript&logoColor=white)
![Axios](https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white)
![styledComponents](https://img.shields.io/badge/styledComponents-DB7093?style=for-the-badge&logo=styledComponents&logoColor=white)

## BEST PRACTICE

### 1. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì •

ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¢…ë¥˜ê°€ êµ‰ì¥íˆ ë§ì•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í• ì§€ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.  
ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì˜ íŠ¹ì§•ê³¼ ì¥ì ì„ ë¨¼ì € íŒŒì•…í–ˆìŠµë‹ˆë‹¤.

1. Nivo

- ì°¨íŠ¸ ì¢…ë¥˜ê°€ ë§ë‹¤.
- ì»¤ìŠ¤í…€ ê¸°ëŠ¥ì´ ë‹¤ì–‘í•˜ë‹¤.
- ì›€ì§ì„ê³¼ ì „í™˜ì„ ì œê³µí•œë‹¤.
- ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ê³¼ ì„ ì–¸í˜• ì°¨íŠ¸ë¥¼ ì§€ì›í•œë‹¤.

2. Recharts

- ê°„ë‹¨í•œ ì°¨íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ìš©ì´í•˜ë‹¤.
- ì†ë„ê°€ ë¹ ë¥´ê³  ì½”ë“œ ì ìš©ì´ ì‰½ë‹¤.
- ë¦¬ì•¡íŠ¸ìŠ¤ëŸ½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë‹¤.

3. React-chartjs-2

- ì°¨íŠ¸ ì¢…ë¥˜ê°€ ë§ë‹¤.
- ë”¥í•œ ì»¤ìŠ¤í…€ì´ ê°€ëŠ¥í•˜ë‹¤.

ê³ ë¯¼ì„ í†µí•´ **Recharts** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.  
ê°„ë‹¨í•œ ë³µí•© ì°¨íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ”ê²ƒì´ ìš”ê±´ì´ì—ˆê¸° ë•Œë¬¸ì—  
ê²½ëŸ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë©´ì„œ ë¦¬ì•¡íŠ¸ìŠ¤ëŸ½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” Rechartsê°€ ì í•©í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

### 2. STATE ê´€ë¦¬

í•„í„° ê¸°ëŠ¥ì„ í•„í„° ë²„íŠ¼, ì°¨íŠ¸ ì–‘ìª½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ìš”ê±´ì´ì—ˆìŠµë‹ˆë‹¤.
í•„í„° stateë¥¼ ì „ì—­ìœ¼ë¡œ ë„ìš´ë‹¤ë©´ ì°¨íŠ¸, í•„í„° ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶€ëª¨-ìì‹ ê´€ê³„ë¡œ ì„¤ì •í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì—  
ì¢…ì†ì„±ì„ ë‚®ì¶”ë©´ì„œ íš¨ìœ¨ì ì¸ ì»´í¬ë„ŒíŠ¸ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

#### êµ¬í˜„

```ts
const FilterContext = createContext<FilterContextType | null>(null);

export const FilterProvider = ({ children }: ChildrenProps) => {
  const [filterIds, setFilterIds] = useState<string[]>([]);

  return <FilterContext.Provider value={{ filterIds, setFilterIds }}>{children}</FilterContext.Provider>;
};

export const useFilter = () => {
  const context = useContext(FilterContext);
  if (!context) {
    throw new Error('Cannot find FilterProvider');
  }
  return context;
};
```

ìœ„ì™€ ê°™ì´ filterContextë¥¼ í†µí•´ useFilter í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  

```ts
# Chart.tsx

const Chart = ({ data }: { data: ChartObj[] }) => {
  const { filterIds, setFilterIds } = useFilter();

  const addFilter = (event: CategoricalChartState | null) => {
    if (event && event.activePayload) {
      const barPayloadId = event.activePayload[0].payload.id;
      if (barPayloadId) {
        setFilterIds(
          filterIds.includes(barPayloadId)
            ? filterIds.filter((filterId) => filterId !== barPayloadId)
            : [...filterIds, barPayloadId]
        );
      }
    }
  };

  return (
    .
    .
    .
  )
};
```

```ts
# FilterButtonList.tsx

const FilterButtonList = ({ filterArr }: { filterArr: string[] }) => {
  const { filterIds, setFilterIds } = useFilter();

  const activeToggle = (id: string) => {
    if (filterIds.includes(id)) {
      setFilterIds(filterIds.filter((filterId) => filterId !== id));
    } else {
      setFilterIds([...filterIds, id]);
    }
  };

  const resetFilter = () => {
    setFilterIds([]);
  };

  return (
    .
    .
    .
  );
};
```

ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸, í•„í„° ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ useFilter í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ stateë¥¼ ë‹¤ë¤„ì„œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```bash
.
â””â”€â”€ src/
    â”œâ”€â”€ api/
    â”‚   â”œâ”€â”€ axiosInstance.ts
    â”‚   â””â”€â”€ requestApi.ts
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ charts/
    â”‚   â”‚   â”œâ”€â”€ custom/
    â”‚   â”‚   â”‚   â””â”€â”€ CustomTooltip.tsx
    â”‚   â”‚   â””â”€â”€ Chart.tsx
    â”‚   â”œâ”€â”€ common/
    â”‚   â”‚   â””â”€â”€ Loading.tsx
    â”‚   â””â”€â”€ filter/
    â”‚       â””â”€â”€ FilterButtonList.tsx
    â”œâ”€â”€ hooks/
    â”‚   â””â”€â”€ useMockData.tsx
    â”œâ”€â”€ icons/
    â”‚   â””â”€â”€ location.svg
    â”œâ”€â”€ page/
    â”‚   â””â”€â”€ ChartIndex.tsx
    â”œâ”€â”€ router/
    â”‚   â””â”€â”€ Router.tsx
    â”œâ”€â”€ state/
    â”‚   â””â”€â”€ FilterContext.tsx
    â”œâ”€â”€ types/
    â”‚   â”œâ”€â”€ chartData.d.tsx
    â”‚   â””â”€â”€ global.d.ts
    â”œâ”€â”€ App.tsx
    â””â”€â”€ index.tsx
```
